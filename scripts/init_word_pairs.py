"""
初始化谁是卧底词汇对
运行方式: python -m scripts.init_word_pairs
"""

import asyncio
import uuid
from app.core.database import init_db, close_db, db_manager
from app.models.word_pair import WordPair
from sqlalchemy import select

# 词汇对数据: (平民词, 卧底词, 类别, 难度1-5)
WORD_PAIRS = [
    # ===== 食物饮料 (难度 1-3) =====
    ("可乐", "雪碧", "食物饮料", 1),
    ("啤酒", "白酒", "食物饮料", 2),
    ("咖啡", "奶茶", "食物饮料", 1),
    ("牛奶", "豆浆", "食物饮料", 1),
    ("饺子", "馄饨", "食物饮料", 2),
    ("包子", "馒头", "食物饮料", 1),
    ("面条", "米线", "食物饮料", 2),
    ("火锅", "麻辣烫", "食物饮料", 2),
    ("薯条", "薯片", "食物饮料", 1),
    ("蛋糕", "面包", "食物饮料", 1),
    ("冰淇淋", "雪糕", "食物饮料", 2),
    ("苹果", "梨子", "食物饮料", 1),
    ("橙子", "橘子", "食物饮料", 2),
    ("西瓜", "哈密瓜", "食物饮料", 2),
    ("葡萄", "提子", "食物饮料", 3),
    ("香蕉", "芭蕉", "食物饮料", 3),
    ("豆腐", "豆干", "食物饮料", 2),
    ("鸡蛋", "鸭蛋", "食物饮料", 2),
    ("牛肉", "羊肉", "食物饮料", 2),
    ("虾", "龙虾", "食物饮料", 2),
    ("螃蟹", "大闸蟹", "食物饮料", 3),
    ("披萨", "馅饼", "食物饮料", 2),
    ("汉堡", "三明治", "食物饮料", 2),
    ("酸奶", "牛奶", "食物饮料", 2),
    ("绿茶", "红茶", "食物饮料", 2),

    # ===== 动物 (难度 1-3) =====
    ("狗", "狼", "动物", 2),
    ("猫", "老虎", "动物", 2),
    ("老鼠", "仓鼠", "动物", 2),
    ("兔子", "野兔", "动物", 3),
    ("鸡", "鸭", "动物", 1),
    ("鹅", "天鹅", "动物", 2),
    ("牛", "水牛", "动物", 2),
    ("马", "驴", "动物", 2),
    ("猪", "野猪", "动物", 2),
    ("羊", "山羊", "动物", 2),
    ("蝴蝶", "蛾子", "动物", 2),
    ("蜜蜂", "黄蜂", "动物", 2),
    ("蚂蚁", "白蚁", "动物", 3),
    ("蜘蛛", "蝎子", "动物", 2),
    ("青蛙", "蟾蜍", "动物", 3),
    ("乌龟", "甲鱼", "动物", 2),
    ("蛇", "蟒蛇", "动物", 2),
    ("金鱼", "锦鲤", "动物", 2),
    ("鲨鱼", "海豚", "动物", 2),
    ("企鹅", "海鸥", "动物", 2),
    ("熊猫", "北极熊", "动物", 2),
    ("猴子", "猩猩", "动物", 2),
    ("狮子", "老虎", "动物", 2),
    ("豹子", "猎豹", "动物", 3),
    ("大象", "犀牛", "动物", 2),

    # ===== 电子产品 (难度 2-3) =====
    ("电脑", "笔记本", "电子产品", 2),
    ("手机", "平板", "电子产品", 2),
    ("电视", "显示器", "电子产品", 2),
    ("耳机", "音响", "电子产品", 2),
    ("鼠标", "触控板", "电子产品", 3),
    ("键盘", "打字机", "电子产品", 3),
    ("相机", "摄像机", "电子产品", 2),
    ("手表", "智能手环", "电子产品", 2),
    ("空调", "电扇", "电子产品", 2),
    ("冰箱", "冰柜", "电子产品", 2),
    ("洗衣机", "烘干机", "电子产品", 2),
    ("微波炉", "烤箱", "电子产品", 2),
    ("电饭煲", "高压锅", "电子产品", 2),
    ("吸尘器", "扫地机器人", "电子产品", 2),
    ("充电器", "充电宝", "电子产品", 2),

    # ===== 交通工具 (难度 1-3) =====
    ("汽车", "卡车", "交通工具", 2),
    ("公交车", "大巴", "交通工具", 2),
    ("地铁", "轻轨", "交通工具", 3),
    ("火车", "高铁", "交通工具", 2),
    ("飞机", "直升机", "交通工具", 2),
    ("自行车", "电动车", "交通工具", 2),
    ("摩托车", "电瓶车", "交通工具", 2),
    ("轮船", "游艇", "交通工具", 2),
    ("出租车", "网约车", "交通工具", 2),
    ("三轮车", "人力车", "交通工具", 3),

    # ===== 日常用品 (难度 1-3) =====
    ("牙刷", "牙膏", "日常用品", 1),
    ("毛巾", "浴巾", "日常用品", 2),
    ("肥皂", "香皂", "日常用品", 2),
    ("洗发水", "护发素", "日常用品", 2),
    ("雨伞", "遮阳伞", "日常用品", 2),
    ("钱包", "卡包", "日常用品", 2),
    ("背包", "手提包", "日常用品", 2),
    ("眼镜", "墨镜", "日常用品", 2),
    ("帽子", "头盔", "日常用品", 2),
    ("围巾", "领带", "日常用品", 2),
    ("袜子", "丝袜", "日常用品", 2),
    ("拖鞋", "凉鞋", "日常用品", 2),
    ("运动鞋", "跑步鞋", "日常用品", 3),
    ("枕头", "抱枕", "日常用品", 2),
    ("被子", "毯子", "日常用品", 2),

    # ===== 职业人物 (难度 2-4) =====
    ("医生", "护士", "职业人物", 2),
    ("老师", "教授", "职业人物", 2),
    ("警察", "保安", "职业人物", 2),
    ("厨师", "服务员", "职业人物", 2),
    ("律师", "法官", "职业人物", 3),
    ("演员", "明星", "职业人物", 2),
    ("歌手", "主播", "职业人物", 2),
    ("画家", "设计师", "职业人物", 3),
    ("作家", "记者", "职业人物", 3),
    ("程序员", "工程师", "职业人物", 3),
    ("会计", "出纳", "职业人物", 3),
    ("司机", "快递员", "职业人物", 2),
    ("理发师", "化妆师", "职业人物", 2),
    ("导游", "领队", "职业人物", 3),
    ("模特", "礼仪", "职业人物", 3),

    # ===== 地点场所 (难度 2-4) =====
    ("学校", "大学", "地点场所", 2),
    ("医院", "诊所", "地点场所", 2),
    ("超市", "便利店", "地点场所", 2),
    ("商场", "百货", "地点场所", 2),
    ("餐厅", "食堂", "地点场所", 2),
    ("酒店", "宾馆", "地点场所", 2),
    ("公园", "广场", "地点场所", 2),
    ("体育馆", "健身房", "地点场所", 2),
    ("电影院", "剧院", "地点场所", 2),
    ("图书馆", "书店", "地点场所", 2),
    ("银行", "信用社", "地点场所", 3),
    ("邮局", "快递站", "地点场所", 2),
    ("加油站", "充电站", "地点场所", 2),
    ("机场", "火车站", "地点场所", 2),
    ("游乐园", "动物园", "地点场所", 2),

    # ===== 运动娱乐 (难度 2-4) =====
    ("足球", "篮球", "运动娱乐", 2),
    ("乒乓球", "羽毛球", "运动娱乐", 2),
    ("网球", "排球", "运动娱乐", 2),
    ("游泳", "跳水", "运动娱乐", 2),
    ("跑步", "马拉松", "运动娱乐", 2),
    ("瑜伽", "普拉提", "运动娱乐", 3),
    ("滑雪", "溜冰", "运动娱乐", 2),
    ("登山", "攀岩", "运动娱乐", 2),
    ("钓鱼", "捕鱼", "运动娱乐", 2),
    ("象棋", "围棋", "运动娱乐", 2),
    ("扑克", "麻将", "运动娱乐", 2),
    ("唱歌", "说唱", "运动娱乐", 2),
    ("跳舞", "街舞", "运动娱乐", 2),
    ("画画", "素描", "运动娱乐", 2),
    ("看书", "阅读", "运动娱乐", 3),

    # ===== 节日文化 (难度 2-4) =====
    ("春节", "元旦", "节日文化", 2),
    ("中秋节", "元宵节", "节日文化", 3),
    ("端午节", "重阳节", "节日文化", 3),
    ("情人节", "七夕", "节日文化", 2),
    ("圣诞节", "平安夜", "节日文化", 2),
    ("万圣节", "愚人节", "节日文化", 2),
    ("国庆节", "建军节", "节日文化", 3),
    ("儿童节", "青年节", "节日文化", 3),
    ("教师节", "护士节", "节日文化", 3),
    ("母亲节", "父亲节", "节日文化", 2),

    # ===== 自然现象 (难度 2-4) =====
    ("下雨", "下雪", "自然现象", 2),
    ("打雷", "闪电", "自然现象", 2),
    ("台风", "龙卷风", "自然现象", 3),
    ("地震", "海啸", "自然现象", 3),
    ("彩虹", "极光", "自然现象", 3),
    ("日出", "日落", "自然现象", 2),
    ("满月", "新月", "自然现象", 3),
    ("春天", "秋天", "自然现象", 2),
    ("夏天", "冬天", "自然现象", 2),
    ("晴天", "阴天", "自然现象", 2),

    # ===== 高难度词汇 (难度 4-5) =====
    ("婚礼", "葬礼", "高难度", 4),
    ("告白", "表白", "高难度", 4),
    ("暗恋", "单恋", "高难度", 5),
    ("朋友", "闺蜜", "高难度", 4),
    ("同学", "校友", "高难度", 4),
    ("邻居", "室友", "高难度", 4),
    ("偶像", "榜样", "高难度", 4),
    ("粉丝", "追星族", "高难度", 4),
    ("网红", "博主", "高难度", 4),
    ("直播", "录播", "高难度", 4),
    ("微信", "QQ", "高难度", 3),
    ("抖音", "快手", "高难度", 3),
    ("淘宝", "京东", "高难度", 3),
    ("美团", "饿了么", "高难度", 3),
    ("支付宝", "微信支付", "高难度", 3),
    ("外卖", "跑腿", "高难度", 4),
    ("加班", "熬夜", "高难度", 4),
    ("请假", "翘班", "高难度", 4),
    ("工资", "奖金", "高难度", 4),
    ("面试", "笔试", "高难度", 4),
    ("恋爱", "结婚", "高难度", 4),
    ("相亲", "约会", "高难度", 4),
    ("吵架", "冷战", "高难度", 4),
    ("道歉", "认错", "高难度", 5),
    ("原谅", "宽恕", "高难度", 5),
]


async def init_word_pairs():
    """初始化词汇对数据"""
    print("正在初始化数据库连接...")
    await init_db()

    async with db_manager.get_session() as session:
        created = 0
        skipped = 0

        for civilian, undercover, category, difficulty in WORD_PAIRS:
            # 检查是否已存在
            result = await session.execute(
                select(WordPair).where(
                    (WordPair.civilian_word == civilian) &
                    (WordPair.undercover_word == undercover)
                )
            )
            if result.scalar_one_or_none():
                skipped += 1
                continue

            # 创建新词汇对
            word_pair = WordPair(
                id=str(uuid.uuid4()),
                civilian_word=civilian,
                undercover_word=undercover,
                category=category,
                difficulty=difficulty
            )
            session.add(word_pair)
            created += 1

        await session.commit()
        print(f"\n词汇初始化完成!")
        print(f"- 新增: {created} 个词汇对")
        print(f"- 跳过: {skipped} 个已存在的词汇对")
        print(f"- 总计: {created + skipped} 个词汇对")

    await close_db()
    print("\n数据库连接已关闭")


if __name__ == "__main__":
    asyncio.run(init_word_pairs())
